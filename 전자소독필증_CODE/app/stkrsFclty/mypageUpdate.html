<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>거점소독시설</title>
	<link rel="stylesheet" href="../assets/css/common.css">
	<link rel="stylesheet" href="../assets/css/style.css">
	<script type="text/javascript" src="../assets/js/jquery-3.4.1.min.js"></script>
	<script type="text/javascript" src="../assets/js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="../assets/js/custom.js"></script>
	<!-- 공통 js -->
	<script type="text/javascript" src="../../assets/js/comm.js"></script>
	<!-- validatate 체크 -->
	<script type="text/javascript" src="../assets/js/jquery.validate.min.js"></script>
	<!-- 공통 모달 -->
	<script type="text/javascript" src="../../assets/js/confirmModal.js"></script>
	<!-- iamport.payment.js -->
    <script type="text/javascript" src="https://cdn.iamport.kr/js/iamport.payment-1.1.5.js"></script>
    <!-- Data format -->
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
	<!--주소검색 API-->
	<script src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script>
    <script type="text/javascript" src="../../assets/js/daumPostalAPI.js"></script>
    <script type="text/javascript" src="../../assets/js/sessionChk.js"></script>
	<script type="text/javascript">
		let carInfo = [];
		let getlocalStorage = JSON.parse(localStorage.getItem('SignInAccount'));
		$(document).ready(function () {
            //session Check localStorage에 accountId 없을 경우 login Page로 이동
            sessionChk();
            console.log("getlocalStorage",getlocalStorage);
            $.ajax({
                url: global.apiUrl + "/pweBeaconUserDetails/" + getlocalStorage.accountId,
                type: "GET",
                cache: false,
                dataType: "json",
                success: function (data) {
                    console.log("data", data)
                    $('#name').val(data.beaconUserNm);
                    $('#email').val(data.email);
                    $('#accountId').html(data.beaconUserId);
                    $('#moblphon').val(data.beaconUserMbtlnum);
                    $('#passwd').val(data.beaconUserPw);
                    $('#password_confirm').val(data.beaconUserPw);
                    if($('#radio_man').val()==data.sexdstn){
                        $("#radio_man").prop("checked", true)
                    }else if($('#radio_woman').val()==data.sexdstn){
                        $("#radio_woman").prop("checked", true)
                    }
                    //핸드폰번호 중복체크 첫 로딩시 하지 않도록 
					$("#moblphonCertifity").val("1");
                    $.ajax({
						url: data._links.workCmStkrsFcltyInfoM.href,
						type: "GET",
						cache: false,
						dataType: "json",
						success: function (data) {
							console.log("workCmStkrsFcltyInfoM", data);
							$("#nm").val(data.nm);
							$("#rnAdres1").val(data.rnAdres1);
							$("#adres2").val(data.adres2);
							$("#zip").val(data.zip);
							$("#fcltyRegistde").val(data.fcltyRegistde);
							$("#fcltyCode").val(data.fcltyCode);
							$("#area").val(data.area);
							$("#ownerAdres1").val(data.ownerAdres1);
							$("#ownerAdres2").val(data.ownerAdres2);
							$("#ownerNm").val(data.ownerNm);
							$("#ownerZip").val(data.ownerZip);
							$("#ownerCttpc").val(data.ownerCttpc);
							$("#rspnberAdres1").val(data.rspnberAdres1);
							$("#rspnberAdres2").val(data.rspnberAdres2);
							$("#rspnberZip").val(data.rspnberZip);
							$("#rspnberNm").val(data.rspnberNm);
							$("#rspnberCttpc").val(data.rspnberCttpc);
							$("#ty").val(data.ty);
							$("#status").val(data.status);
							$("#lmnAdres1").val(data.lmnAdres1);
							$("#userSelectedType").val(data.userSelectedType);
							$("#farmNo").val(data.farmNo)
						}
					})
                }
            });
		})
		//회원 유형에 따라 display 보여주는 상태 달라진다.
		function submitFunction() {
            $("#joinSubmit").validate({
                //validation이 끝난 이후의 submit 직전 추가 작업할 부분
                submitHandler: function (form, event) {
                    event.preventDefault(); //form 의 submit 을 막고 ajax 로 동작하기 위한 구문
                    if ($("#moblphonCertifity").val() == "") {
						modalAlert("휴대폰 중복확인 후 회원가입 할 수 있습니다.")
						return false;
					}
                    var formData = {}
                    /* 공통 회원 추가 객체 */
                    formData.accountId = $("#accountId").html();
                    formData.accountTy = "STKRS_FCLTY_CHARGER"
                    formData.deviceTy = getlocalStorage.deviceTy;
                    formData.email = $("#email").val();
                    formData.firebaseToken = getlocalStorage.firebaseToken;
                    formData.mobileDeviceId = getlocalStorage.mobileDeviceId;
                    formData.name = $("#name").val();
                    formData.passwd = $("#passwd").val();
                    formData.sexdstn = $("input[name=sex]:checked").val();
                    formData.moblphon = $("#moblphon").val();
                    /* 시설 관리자일 경우 */
                    if($("#farmNo").val() == ""){
                        formData.cmStkrsFcltyInfoM={
                            rnAdres1 : $('input[name=rnAdres1]').val(),
                            lmnAdres1 : $('input[name=lmnAdres1]').val(),
                            adres2 : $('input[name=adres2]').val(),
                            area : $('select[name=area]').val(),
                            fcltyCode : $('input[name=fcltyCode]').val(),
                            fcltyRegistde :  $('input[name=fcltyRegistde]').val(),
                            hnf : "",	//인력
                            nm : $('input[name=nm]').val(),
                            ownerAdres1 : $('input[name=ownerAdres1]').val(),
                            ownerAdres2 : $('input[name=ownerAdres2]').val(),
                            ownerCttpc : $('input[name=ownerCttpc]').val(),
                            ownerNm : $('input[name=ownerNm]').val(),
                            ownerZip : $('input[name=ownerZip]').val(),
                            updusrId : $("#accountId").html(),
                            rspnberAdres1 : $('input[name=rspnberAdres1]').val(),
                            rspnberAdres2 : $('input[name=rspnberAdres2]').val(),
                            rspnberCttpc : $('input[name=rspnberCttpc]').val(),
                            rspnberNm : $('input[name=rspnberNm]').val(),
                            rspnberZip : $('input[name=rspnberZip]').val(),
                            status : $('select[name=status]').val(),
                            ty : $('select[name=ty]').val(),
                            userSelectedType  : $('input[name=userSelectedType]').val(),
                            zip : $('input[name=zip]').val(),
                        }
                    }else{
                        formData.cmStkrsFcltyInfoM={
                            rnAdres1 : $('input[name=rnAdres1]').val(),
                            lmnAdres1 : $('input[name=lmnAdres1]').val(),
                            adres2 : $('input[name=adres2]').val(),
                            area : $('select[name=area]').val(),
                            fcltyCode : $('input[name=fcltyCode]').val(),
                            fcltyRegistde :  $('input[name=fcltyRegistde]').val(),
                            hnf : "",	//인력
                            nm : $('input[name=nm]').val(),
                            ownerAdres1 : $('input[name=ownerAdres1]').val(),
                            ownerAdres2 : $('input[name=ownerAdres2]').val(),
                            ownerCttpc : $('input[name=ownerCttpc]').val(),
                            ownerNm : $('input[name=ownerNm]').val(),
                            ownerZip : $('input[name=ownerZip]').val(),
                            updusrId : $("#accountId").html(),
                            rspnberAdres1 : $('input[name=rspnberAdres1]').val(),
                            rspnberAdres2 : $('input[name=rspnberAdres2]').val(),
                            rspnberCttpc : $('input[name=rspnberCttpc]').val(),
                            rspnberNm : $('input[name=rspnberNm]').val(),
                            rspnberZip : $('input[name=rspnberZip]').val(),
                            status : $('select[name=status]').val(),
                            ty : $('select[name=ty]').val(),
                            userSelectedType  : $('input[name=userSelectedType]').val(),
                            zip : $('input[name=zip]').val(),
                            farmNo : $("#farmNo").val(),
                        }
                    }
                    console.log("formData", formData)
                    ajaxConfirmModal('수정 하시겠습니까?', 'submitModalFunction('+ JSON.stringify(formData)+')');
                },
                //규칙
                rules: {
                    passwd: {
                        required: true,
                        minlength: 8,
                        maxlength: 20,
                        passwordCk : true,
                    },
                    password_confirm: {
                        required: true,
                        minlength: 8,
                        maxlength: 20,
                        equalTo: "#passwd",
                    },
                    name: {
                        required: true,
                        //digits : true // 숫자만 입력
                    },
                    email: {
                        required: true,
                        minlength: 2,
                        email: true
                    },
                    /* 시설 필수 체크 */
                    nm : {
                        required: true,
                        minlength: 2,
                        maxlength: 20
                    },
                    area : {
                        required: true,
                    },
                    rnAdres1 : {
                        required: true,
                    },
                    fcltyCode : {
                        required: true,
                        minlength: 1,
                        maxlength: 20
                    },
                    fcltyRegistde : {
                        required: true,
                        minlength: 2,
                        maxlength: 10,
                        fcltyRegistdeChk : true
                    },
                    ty : {
                        required: true
                    },
                    status : {
                        required: true
                    },
                    ownerNm : {
                        required: true,
                        minlength: 2,
                        maxlength: 20
                    },
                    ownerCttpc  :{
                        required: true,
                        minlength: 11,
                        maxlength: 20,
                        number : true
                        //phoneChk : true
                    },
                    ownerAdres1 : {
                        required: true,
                        minlength: 2
                    },
                    rspnberNm  :{
                        required: true,
                        minlength: 2,
                        maxlength: 20
                    },
                    rspnberCttpc : {
                        required: true,
                        minlength: 11,
                        maxlength: 20,
                        number : true
                        //phoneChk : true
                    },
                    rspnberAdres1 : {
                        required: true,
                        minlength: 2
                    }
                },
                //규칙체크 실패시 출력될 메시지
                messages: {
                    passwd: {
                        required: "필수로 입력하세요",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        maxlength: "최대 {0}글자이하이어야 합니다",
                        passwordCk : "비밀번호는 영문자,숫자,특수문자 조합을 입력해야 합니다."
                    },
                    password_confirm: {
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        maxlength: "최대 {0}글자이하이어야 합니다",
                        equalTo: "비밀번호가 일치하지 않습니다.",
                    },
                    name: {
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다",
                    },
                    email: {
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        email: "이메일 형식에 맞지 않습니다."
                    },
                    nm: {
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        maxlength: "최대 {0}글자이하이어야 합니다"
                    },
                    area: {
                        required: "필수로 입력하세요."
                    },
                    rnAdres1: {
                        required: "필수로 입력하세요."
                    },
                    fcltyCode: {
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        maxlength: "최대 {0}글자이하이어야 합니다"
                    },
                    fcltyRegistde : {
                        required: "필수로 입력하세요",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        maxlength: "최대 {0}글자이하이어야 합니다",
                        fcltyRegistdeChk : "시설등록일은(2020.09.01)형식으로 작성해 주세요."
                    },
                    ty: {
                        required: "필수로 입력하세요.",
                    },
                    status  :{
                        required: "필수로 입력하세요."
                    },
                    ownerNm :{
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        maxlength: "최대 {0}글자이하이어야 합니다"
                    },
                    ownerCttpc:{
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        maxlength: "최대 {0}글자이하이어야 합니다",
                        number : "숫자만 입력해 주세요"
                        //phoneChk : "휴대폰은(010-1234-5678)형식으로 작성해 주세요"
                    },
                    ownerAdres1:{
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다"
                    },
                    rspnberNm : {
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        maxlength: "최대 {0}글자이하이어야 합니다"
                    },
                    rspnberCttpc : {
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다",
                        maxlength: "최대 {0}글자이하이어야 합니다",
                        number : "숫자만 입력해 주세요"
                        //phoneChk : "휴대폰은(010-1234-5678)형식으로 작성해 주세요"
                    },
                    rspnberAdres1 : {
                        required: "필수로 입력하세요.",
                        minlength: "최소 {0}글자이상이어야 합니다"
                    }
                }
            });	
            $.validator.addMethod("fcltyRegistdeChk",  function( value, element ) {
                return this.optional(element) ||   /[0-9]{4}.(0?[1-9]|1[012]).(0?[1-9]|[12][0-9]|3[01])/.test(value);
            });
            $.validator.addMethod("passwordCk",  function( value, element ) {
                return this.optional(element) ||  /^.*(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&+=]).*$/.test(value);
            });
		};
        /* 시설 관리자 */
        /* 휴대폰번호 중복체크 */
		function moblphonCheck(){
			//$("#moblphonCertifity").val("");
			if($("#moblphon").val() == ""){
				modalAlert("휴대폰 번호를 입력하세요.");
				return false;
			}
			if (!/(0[0-9]{1}[0-9]{1})([0-9]{3,4})([0-9]{4})$/.test($('#moblphon').val())){
				modalAlert("다음과 같은 형식으로만 작성해 주세요.<br> ex) 01012345678 ");
				return false;
            }
            
			//차량운전자 & 시설 관리자 일 경우
			$.ajax({
				url : global.apiUrl+"/pweBeaconUsers/countBy?&schColumns=beaconUserMbtlnum&schKeywords="+$("#moblphon").val()+"&columnTypes=STRING&columnFormats=&comparisonOperators=EQ&conditions=AND",
				type: "GET",
				cache: false,
				dataType: "json",
				success: function(data){
					if(data.page.totalElements >0){
						modalAlert("중복된 휴대폰 번호 입니다.");
						return false;
					}else if(data.page.totalElements ==0){
						modalAlert("사용 가능한 휴대폰 번호 입니다.");
						$("#moblphonCertifity").val("1");
					}
				}
			})
		}    
        /* 휴대폰 onChange 중복체크 초기화.*/
		function onChangeCkPhone(){
			$("#moblphonCertifity").val("");
		}
		//검색 API 펑션 호출
		function adresOnClick(){
			fcltyAddressModal();
		}
		function ownerAdresOnClick(){
			ownerAddressModal();
		}
		function rspnberAddressOnclick(){
			rspnberAddressModal();
		}
		function submitModalFunction(formData){
			event.preventDefault();
            $('#ajaxConfirmModal').hide();
            console.log("formData",JSON.stringify(formData));
			$.ajax({
				type: 'PUT',
				url: global.apiUrl + "/members/update",
				data: JSON.stringify(formData),
				contentType: "application/json",
				async: false,
				dataType: 'json',
				success: function (res) {
					$("#successModal").fadeIn();
				},
				error: function (err) {
					alert("실패");
				},
			});
		}
		function ajaxConfirmModal_close(){	
			event.preventDefault();
            $('#ajaxConfirmModal').hide();
            $('#ajaxConfirmModal').parent().remove();
		}

		/* ajax 성공시 페이지 이동 */
		function successModal_close(){
			event.preventDefault();
			$('#successModal').hide();
            window.location.href="./homeVisit.html"
		}
	</script>
</head>
<body>
	<div class="join bg-gray user3" id="wrap">
		<form id="joinSubmit">
			<!-- header -->
			<header class="user3">
				<div class="title-box">
					<h1>개인정보 수정</h1>
				</div>
			</header>
			<!-- //header -->
			<div class="container pd-yes">
				<div class="input-box sm">
					<label for="id">아이디 <b class="point">*</b></label>
					<span id="accountId" style="font-size: 20px;"></span>
				</div>
				<div class="input-box sm">
					<!-- pass -->
					<label for="pw">비밀번호 <b class="point">*</b></label>
					<input type="password" name="passwd" id="passwd" placeholder="비밀번호">
				</div>
				<div class="input-box sm">
					<label for="pw2">비밀번호 재입력 <b class="point">*</b></label>
					<input type="password" name="password_confirm" id="password_confirm" placeholder="비밀번호 재입력">
				</div>
				<div class="input-box sm">
					<label for="name">이름 <b class="point">*</b></label>
					<input type="text" name="name" id="name" placeholder="이름">
				</div>
				<div class="input-box sm">
					<label for="">이메일주소 <b class="point">*</b></label>
					<input type="email" name="email" id="email" placeholder="이메일주소">
				</div>
				<div class="input-box sm">
					<label for="">성별 <b class="point">*</b></label>
					<ul class="choice gender">
						<li class="on" style="width: 50%;">
							<input id="radio_man" class="radio-stf__option" type="radio" name="sex" checked="checked" value="MALE">
							<label class="radio-stf__label" for="radio_man">남자</label>
						</li>
						<li style="width: 50%;">
							<input id="radio_woman" class="radio-stf__option" type="radio" name="sex" value="FEMALE">
							<label class="radio-stf__label" for="radio_woman">여자</label>
						</li>
					</ul>
				</div>
				<div class="input-box sm">
					<label for="name">휴대폰 번호 <b class="point">*</b></label>
                    <input type="text" name="moblphon" id="moblphon" placeholder="숫자만 입력해 주세요" onchange="onChangeCkPhone();">
                    <button type="button" class="btn-stf-inn" id="moblphonButton" onclick="moblphonCheck();">중복확인</button>
					<input type="hidden" id="moblphonCertifity">
				</div>
				<!-- <div class="input-box sm">
                        <label for="">휴대폰번호 <b class="point">*</b></label>
                        <input type="text" name="telno" id="telno" placeholder="휴대폰번호">
                        <button type="button" class="btn-stf-inn">인증하기</button>
                    </div>
                    <div class="input-box sm">
                        <label for="">인증번호 재입력 <b class="point">*</b></label>
                        <input type="text" name="" id="" placeholder="인증번호">
                        <button type="button" class="btn-stf-inn">확인</button>
                    </div> -->

				<!-- 시설 관리자 일 경우에 START -->
				<div class="user-info user3">
					<p class="tit-row">시설정보</p>
					<div class="input-box sm">
						<label for="nm">시설명 <b class="point">*</b></label>
                        <input type="text" name="nm" id="nm" placeholder="시설명">
                        <input type="hidden" name="farmNo" id="farmNo" placeholder="시설 고유번호">
					</div>
					<div class="input-box sm">
						<label for="">시설 지역 <b class="point">*</b></label>
						<select  name="area" id="area"  class="">
							<option value="" selected="">지역선택</option>
							<option value="SU">서울</option>
							<option value="GG">경기</option>
							<option value="IC">인천</option>
							<option value="BS">부산</option>
							<option value="DG">대구</option>
							<option value="GJ">광주</option>
							<option value="DJ">대전</option>
							<option value="US">울산</option>
							<option value="SJ">세종</option>
							<option value="GW">강원</option>
							<option value="GN">경남</option>
							<option value="GB">경북</option>
							<option value="JN">전남</option>
							<option value="JNBK">전북</option>
							<option value="CHN">충남</option>
							<option value="CB">충북</option>
							<option value="JJ">제주</option>
						</select>
					</div>
					<div class="input-box sm">
						<label for="rnAdres1">시설 주소 <b class="point">*</b></label>
						<input type="text" name="rnAdres1" id="rnAdres1" placeholder="시설 주소" readonly>
						<input type="text" name="adres2" id="adres2" placeholder="시설 상세주소">
						<input type="hidden" name="lmnAdres1" id="lmnAdres1"  placeholder="시설 지번주소">
						<input type="hidden" name="zip" id="zip"  placeholder="시설 우편주소">
						<input type="hidden" name="userSelectedType" id="userSelectedType" placeholder="도로명/지역 구분코드">
						<button type="button" class="btn-stf-inn" id="adres1Button" onclick="adresOnClick();">검색</button>
					</div>
					<div class="input-box sm">
						<label for="fcltyCode">시설코드 <b class="point">*</b></label>
						<input type="text" name="fcltyCode" id="fcltyCode"  placeholder="시설코드">
					</div>
					<div class="input-box sm">
						<label for="fcltyRegistde">시설 등록일 <b class="point">*</b></label>
						<input type="text" name="fcltyRegistde" id="fcltyRegistde" placeholder="시설 등록일">
					</div>
					<div class="input-box sm">
						<label for="">축종 <b class="point">*</b></label>
						<select  name="ty" id="ty" class="">                    
							<option value="" selected="">축종 타입</option>                    
							<!-- <option value="DSNF_FCLTY">소독시설</option> -->
							<option value="LVSTCK_BRD_FCLTY">가축사육시설</option>
							<option value="SLAU_MLKC_PLACE">도축장 및 집유장</option>
							<option value="EDYG_COLCT_SLE_BSSH">식용란수집판매업소</option>
							<option value="FEED_FCTRY">사료공장</option>
							<option value="LVSTCK_MRKT">가축시장</option>
							<option value="LVSTCK_ATHRZ_INSTT">가축검정기관</option>
							<option value="SPCS_STKRS_PLACE">종축산장소</option>
							<option value="HATCHERY">부화장</option>
							<option value="FRTLZR_FCTRY">비료공장</option>
							<option value="LVSTCK_EXCRS_PROCESS_ENTRPS">가축분뇨처리업체</option>
							<option value="ETC">기타</option>
						</select>
					</div>
					<div class="input-box sm">
						<label for="">운영상태 <b class="point">*</b></label>
						<select  name="status" id="status" class="">
							<option value="" selected="">운영상태</option>
							<option value="NRMLT">정상</option>
							<option value="WAIT">대기</option>
							<option value="EMGNC">비상</option>
							<option value="CLS">폐쇄</option>
						</select>
					</div>
					<div class="input-box sm">
						<label for="">소유주 명 <b class="point">*</b></label>
						<input type="text" name="ownerNm" id="ownerNm"  placeholder="소유주 명">
					</div>
					<div class="input-box sm">
						<label for="">소유주 연락처 <b class="point">*</b></label>
						<input type="text" name="ownerCttpc" id="ownerCttpc"  placeholder="소유주 연락처">
					</div>
					<div class="input-box sm">
						<label for="">소유주 주소 <b class="point">*</b></label>
						<input type="text" name="ownerAdres1" id="ownerAdres1"  placeholder="소유주 주소" readonly>
						<input type="text" name="ownerAdres2" id="ownerAdres2"  placeholder="소유주 상세주소">
						<input type="hidden" name="ownerZip"  id="ownerZip" placeholder="소유주 우편번호">
						<button type="button" class="btn-stf-inn" id="ownerAdres1Button" onclick="ownerAdresOnClick();">검색</button>
					</div>
					<div class="input-box sm">
						<label for="">책임자 명 <b class="point">*</b></label>
						<input type="text" name="rspnberNm" id="rspnberNm"  placeholder="책임자 명">
					</div>
					<div class="input-box sm">
						<label for="">책임자 연락처 <b class="point">*</b></label>
						<input type="text" name="rspnberCttpc" id="rspnberCttpc"  placeholder="책임자 연락처">
					</div>
					<div class="input-box sm">
						<label for="">책임자 주소 <b class="point">*</b></label>
						<input type="text" name="rspnberAdres1" id="rspnberAdres1"  placeholder="책임자 주소" readonly>
						<input type="text" name="rspnberAdres2" id="rspnberAdres2" placeholder="책임자 상세주소">
						<input type="hidden" name="rspnberZip"  id="rspnberZip" placeholder="책임자 우편번호">
						<button type="button"  class="btn-stf-inn" id="rspnberAdres1Button" onclick="rspnberAddressOnclick();">검색</button>
					</div>
				</div>
				<!-- 시설 관리자 일 경우에 END -->
			</div>
			<div class="btn-wrap one pd-yes">
				<button type="submit" class="btn bg-blue lg btn-join" onclick="submitFunction();">개인정보 수정</button>
			</div>
		</form>
		<div class="popup-wrap sm" id="successModal">
			<div class="popup-box sm">
				<div class="popup-header sm">
				</div>
				<div class="popup-contents sm">
					<p class="txt">수정을 완료 하였습니다.</p>
				</div>
				<div class="popup-footer sm">
					<button type="button" class="btn bg-green btn-delete" style='width:100%;' onclick="successModal_close();">확인</button>
				</div>
			</div>
		</div>
	</div>
</body>

</html>