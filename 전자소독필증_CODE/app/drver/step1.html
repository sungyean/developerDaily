<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>거점소독시설</title>
	<link rel="stylesheet" href="../assets/css/common.css">
	<link rel="stylesheet" href="../assets/css/style.css">
	<script type="text/javascript" src="../assets/js/jquery-3.4.1.min.js"></script>
	<script type="text/javascript" src="../assets/js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="../assets/js/custom.js"></script>
	<!-- 공통 js -->
	<script type="text/javascript" src="../../assets/js/comm.js"></script>
	<!--주소검색 API-->
	<script type="text/javascript" src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script>
	<!-- sessionChk -->
	<script type="text/javascript" src="../../assets/js/sessionChk.js"></script>
	<!-- modal alert -->
	<script type="text/javascript" src="../../assets/js/confirmModal.js"></script>
	<!-- validatate 체크 -->
	<script type="text/javascript" src="../assets/js/jquery.validate.min.js"></script>
	<script type="text/javascript">
		/*유성연 : seq번호 24번으로 테스트 */
		let seq = getParameter("seq");
		let farmNo = getParameter("farmNo");
		let vhId = getParameter("vhId");
		/* push시 carNo 번호 넘어오고, input박스에 넣기. */
		let urlCarNo = getParameter("carNo");
		var doubleSubmitFlag = false;
		$(document).ready(function () {
			$('#mberId').val(getSigninAccount().accountId);
			$('#registerId').val(getSigninAccount().accountId);
			$('#drverNm').val(getSigninAccount().name);
			/* step1 login check */
			sessionChk(location.search);
			/* step0 소독시설에서 지역, 시설이름 가지고 오기. */

			console.log("farmNo",farmNo)
			console.log("seq",seq)
			if(farmNo == ""){
				$.ajax({
					url: global.apiUrl + "/cmDsnfFclties/" + seq,
					type: "GET",
					cache: false,
					dataType: "json",
					success: function (data) {
						console.log("거점소독시설",data)
						$("#area").val(data.area)
						$('#fcltyNm').val(data.nm);
						$('#issuFcltyId').val(data.id);
					}
				})
			}else if(farmNo != ""){
				$.ajax({
					url: global.apiUrl + "/cmFarmInfoSls/" + farmNo,
					type: "GET",
					cache: false,
					dataType: "json",
					success: function (data) {
						console.log("시설",data)
						$("#area").val(data.area)
						$('#fcltyNm').val(data.nm);
						$('#issuFcltyId').val(data.farmNo);
					}
				})
			}
			
			/* step1 차량번호 가지고 오기 */
			$.ajax({
				url: global.apiUrl + "/pweBeaconUserDetails/" + getSigninAccount().accountId + "/carList",
				type: "GET",
				cache: false,
				dataType: "json",
				success: function (data) {
					let carNo = data._embedded.cars;
					for (let i = 0; i < carNo.length; i++) {
						if(urlCarNo ==""){
							if (i == 0) {
								$("#carNo").val(carNo[i].carNo);
								$("#carTy").val(carNo[i].carTy);
								$("#carCl").val(carNo[i].carCl);
								$("#mxmmLdadngQy").val(carNo[i].mxmmLdadngQy);
								$("#carList").append("<li class='on'><div onclick='carNoList(this)'><input class='btn-step1 carNo'  type='button'" + "id='carNo" + i + "'" + "value='" + carNo[i].carNo + "'><input class='btn-step1 carCl'  type='hidden'" + "id='carCl" + i + "'" + "value='" + carNo[i].carCl + "'><input class='btn-step1 carTy'  type='hidden'" + "id='carTy" + i + "'" + "value='" + carNo[i].carTy + "'><input class='btn-step1 mxmmLdadngQy'  type='hidden'" + "id='mxmmLdadngQy" + i + "'" + "value='" + carNo[i].mxmmLdadngQy + "'></div></li>")
							} else {
								$("#carList").append("<li><div onclick='carNoList(this)'><input class='btn-step1 carNo'  type='button'" + "id='carNo" + i + "'" + "value='" + carNo[i].carNo + "'><input class='btn-step1 carCl'  type='hidden'" + "id='carCl" + i + "'" + "value='" + carNo[i].carCl + "'><input class='btn-step1 carTy'  type='hidden'" + "id='carTy" + i + "'" + "value='" + carNo[i].carTy + "'><input class='btn-step1 mxmmLdadngQy'  type='hidden'" + "id='mxmmLdadngQy" + i + "'" + "value='" + carNo[i].mxmmLdadngQy + "'></div></li>")
							}
						}else if(urlCarNo != ""){
							if(urlCarNo ==carNo[i].carNo){
								$("#carNo").val(carNo[i].carNo);
								$("#carTy").val(carNo[i].carTy);
								$("#carCl").val(carNo[i].carCl);
								$("#mxmmLdadngQy").val(carNo[i].mxmmLdadngQy);
								$("#carList").append("<li class='on'><div onclick='carNoList(this)'><input class='btn-step1 carNo'  type='button'" + "id='carNo" + i + "'" + "value='" + carNo[i].carNo + "'><input class='btn-step1 carCl'  type='hidden'" + "id='carCl" + i + "'" + "value='" + carNo[i].carCl + "'><input class='btn-step1 carTy'  type='hidden'" + "id='carTy" + i + "'" + "value='" + carNo[i].carTy + "'><input class='btn-step1 mxmmLdadngQy'  type='hidden'" + "id='mxmmLdadngQy" + i + "'" + "value='" + carNo[i].mxmmLdadngQy + "'></div></li>")
							} else {
								$("#carList").append("<li><div onclick='carNoList(this)'><input class='btn-step1 carNo'  type='button'" + "id='carNo" + i + "'" + "value='" + carNo[i].carNo + "'><input class='btn-step1 carCl'  type='hidden'" + "id='carCl" + i + "'" + "value='" + carNo[i].carCl + "'><input class='btn-step1 carTy'  type='hidden'" + "id='carTy" + i + "'" + "value='" + carNo[i].carTy + "'><input class='btn-step1 mxmmLdadngQy'  type='hidden'" + "id='mxmmLdadngQy" + i + "'" + "value='" + carNo[i].mxmmLdadngQy + "'></div></li>")
							}
						}
					}
				}
			})
			/* step2 추천 출발지,도착지 가지고 오기 */
			$.ajax({
				/* 추천 검색 5개만 보여줌 */
				url: global.apiUrl + "/elctrnDsnfCerfins/search/findByMberIdOrderByIdDesc?mberId=" + getSigninAccount().accountId + "&size=20",
				type: "GET",
				cache: false,
				dataType: "json",
				success: function (data) {
					console.log("data",data)
					let startData = data._embedded.elctrnDsnfCerfins
					for (let i = 0; i < startData.length; i++) {
						if (startData[i].carNo != '' && $("li[name=newCarList]").length<5) {
							//"makeConfirmModal('발급을 거절하시겠습니까?', 'certificateDeny("+item.id+")');")
							$("#newCarList").append("<li name='newCarList'><span id=newCarNo"+i+" onclick='newCarList("+i+")'>" + startData[i].carNo + "</span></li>")
							$("#newCarList").append("<span style='display: none;' id=newCarTy"+i+">" + startData[i].carTy + "</span>")
							$("#newCarList").append("<span style='display: none;' type='hidden' id=newCarCl"+i+">" + startData[i].carCl + "</span>")
							$("#newCarList").append("<span style='display: none;' type='hidden' id=newCarMxmmLdadngQy"+i+">" + startData[i].mxmmLdadngQy + "</span>")
						}
						if (startData[i].strtpnt != '' && $("li[name=startList]").length<5) {
							$("#startList").append("<li name='startList'><span onclick='startList(this);'>" + startData[i].strtpnt + "</span></li>")
						}
						if (startData[i].dstn != '' && $("li[name=dstnList]").length<5) {
							$("#dstnList").append("<li name='dstnList'><span onclick='dstnList(this);'>" + startData[i].dstn + "</span></li>");
						}
						if (startData[i].visitPurps != '' && $("li[name=visitPurpsList]").length<5) {
							$("#visitPurpsList").append("<li name='visitPurpsList'><span onclick='visitPurpsList(this);'>" + startData[i].visitPurps + "</span></li>");

						}
					}
				}
			})
			/* Enter 클릭시 step next로 이동하기 */
			$("#carNo").keydown(function(key) {
				if (key.keyCode == 13) {
					event.preventDefault();
					step2Function();
				}
			});
			$("#strtpnt").keydown(function(key) {
				if (key.keyCode == 13) {
					event.preventDefault();
					step3Function();
				}
			});
			$("#dstn").keydown(function(key) {
				if (key.keyCode == 13) {
					event.preventDefault();
					step4Function();
				}
			});
			$("#visitPurps").keydown(function(key) {
				if (key.keyCode == 13) {
					event.preventDefault();
					modal_apply_open();
				}
			});
		})
		/* step1 */
		function step1Function() {
			/* css적용 */
			$("#step1").addClass("on");
			$("#step2").removeClass("on");
			$("#step3").removeClass("on");
			$("#step4").removeClass("on");
			/* 상단 text */
			$("#step1_head").show();
			$("#step2_head").hide();
			$("#step3_head").hide();
			$("#step4_head").hide();
			/* body text */
			$("#step1_body").show();
			$("#step2_body").hide();
			$("#step3_body").hide();
			$("#step4_body").hide();
		}
		/* step1 li input 클릭 (css변경,input값 carNo에 넣기)*/
		function carNoList(obj) {
			/* css 변경 */
			$('#carList').children('li').removeClass('on');
			$(obj).parent('li').addClass('on');
			/* submit 할 input 태크에 넣기.  */
			$("#carNo").val($(obj).children('.btn-step1.carNo').val());
			$("#carCl").val($(obj).children('.btn-step1.carCl').val());
			$("#carTy").val($(obj).children('.btn-step1.carTy').val());
			$("#mxmmLdadngQy").val($(obj).children('.btn-step1.mxmmLdadngQy').val());
		}
		/* step2 */
		function step2Function() {
			/* 차량 vaildation check */
			event.preventDefault();
			if ($("#carNo").val() == "") {
				$('.popup-wrap.modal').fadeIn();
				return false;
			}
			/* css적용 */
			$("#step2").addClass("on");
			$("#step3").removeClass("on");
			$("#step4").removeClass("on");
			/* 상단 text */
			$("#step1_head").hide();
			$("#step2_head").show();
			$("#step3_head").hide();
			$("#step4_head").hide();
			/* body text */
			$("#step1_body").hide();
			$("#step2_body").show();
			$("#step3_body").hide();
			$("#step4_body").hide();
		}
		/* 최근 차량번호 */
		function newCarList(obj){
			$("#carNo").val($("#newCarNo"+obj).html());
			$("#carTy").val($("#newCarTy"+obj).html());
			$("#carCl").val($("#newCarCl"+obj).html());
			$("#mxmmLdadngQy").val($("#newCarMxmmLdadngQy"+obj).html());
		}
		/* step2 li span 클릭 (css변경,input값 strtpnt에 넣기)*/
		function startList(obj) {
			$('#strtpnt').val($(obj).html());
		}
		/* step3 */
		function step3Function() {
			event.preventDefault();
			/* 차량 vaildation check */
			if ($("#carNo").val() == "") {
				$('.popup-wrap.modal').fadeIn();
				return false;
			}else{
				$("#step1").addClass("on");
			}
			if ($("#strtpnt").val() == "") {
				step2Function();
				$('#modal_strtpnt').fadeIn();
				return false;
			}else{
				$("#step2").addClass("on");
			}
			/* css적용 */
			$("#step3").addClass("on");
			$("#step4").removeClass("on");
			/* 상단 text */
			$("#step1_head").hide();
			$("#step2_head").hide();
			$("#step3_head").show();
			$("#step4_head").hide();
			/* body text */
			$("#step1_body").hide();
			$("#step2_body").hide();
			$("#step3_body").show();
			$("#step4_body").hide();
		}
		/* step3 li span 클릭 (css변경,input값 dstn에 넣기)*/
		function dstnList(obj) {
			$("#dstn").val($(obj).html())
		}
		/* step4 */
		function step4Function() {
			event.preventDefault();
			/* 차량 vaildation check */
			if ($("#carNo").val() == "") {
				$('.popup-wrap.modal').fadeIn();
				step1Function();
				return false;
			}else{
				$("#step1").addClass("on");
			}
			if ($("#strtpnt").val() == "") {
				$('#modal_strtpnt').fadeIn();
				step2Function();
				return false;
			}else{
				$("#step2").addClass("on");
			}
			if ($("#dstn").val() == "") {
				$('#modal_dstn').fadeIn();
				step3Function();
				return false;
			}else{
				$("#step3").addClass("on");
			}
			/* css적용 */
			$("#step4").addClass("on");
			/* 상단 text */
			$("#step1_head").hide();
			$("#step2_head").hide();
			$("#step3_head").hide();
			$("#step4_head").show();
			/* body text */
			$("#step1_body").hide();
			$("#step2_body").hide();
			$("#step3_body").hide();
			$("#step4_body").show();
		}
		/* step4 li span 클릭 (css변경,input값 visitPurps에 넣기)*/
		function visitPurpsList(obj) { $('#visitPurps').val($(obj).html()); }
		function application_cancel() { window.location.href = "home.html" }
		function modal_apply_open(){ 
			if ($('#visitPurps').val() == "") {
				$(".popup-wrap.modal_visitPurps").fadeIn();
				return false;
			}
			$('#modal_apply'). fadeIn(); 
		}
		$(function () {
			$("#stepSubmit").validate({
				//validation이 끝난 이후의 submit 직전 추가 작업할 부분
				submitHandler: function (form) {
					event.preventDefault(); //form 의 submit 을 막고 ajax 로 동작하기 위한 구문
					/* if ($('#visitPurps').val() == "") {
						$(".popup-wrap.modal_visitPurps").fadeIn();
						return false;
					} */
					/* 중복 서브밋 막기!! */
					if(doubleSubmitCheck()){ return; } 
					var tempArray = $(form).serializeArray();
					var formData = {}
					for (i = 0; i < tempArray.length; i++) {
						formData[tempArray[i].name] = tempArray[i].value;
					}
					if (farmNo == "") { //거점소독시설 일 경우 
						formData.issuDsnfFclty = {};
						formData.issuDsnfFclty.id = $('#issuFcltyId').val();
					}else{				//시설일 경우
						formData.issuFarm = {};
						formData.issuFarm.farmNo = $('#issuFcltyId').val();
					}

					/* 방문이력 ID 등록 */
					if(vhId != ""){ formData.vh = {};  formData.vh.id = vhId; }
					console.log("check",formData);
					$.ajax({
						type: form.method,
						url: global.apiUrl + "/elctrnDsnfCerfins/apply",
						async: false,
						data: JSON.stringify(formData),
						contentType: "application/json",
						dataType: 'json',
						success: function (res) {
							modalAlert("전자소독필증이 신청되었습니다.");
							window.location.href = "certificate-apply.html?seq=" + res.id
						},
						error: function (request,status,error) {
							console.log("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error);
							if(request.status==0){
								//alert("네트워크 오류로 잠시후 다시 시도해 주세요.");
								//fcm 오류 시 error handling
							}
							$('#modal_apply').hide();
							doubleSubmitFlag = false;
							modalAlert("네트워크 오류로 잠시후 다시 시도해 주세요.");
							return false;
						}
					});
					return false;
				},
			});
		});

		/* 
		* 중복 서브밋 방지 
		*/
		function doubleSubmitCheck(){
			if(doubleSubmitFlag){
				return doubleSubmitFlag;
			}else{
				doubleSubmitFlag = true;
				return false;
			}
		}

		/* 취소버튼 클릭시 모달 close */
		function modal_close() {
			event.preventDefault();
			$('.popup-wrap.delete').hide();
		}
		/*차량번호 vaildation close */
		function modal_cancel() {
			event.preventDefault();
			$('.popup-wrap.modal').hide();
		}
		/* 방문목적 vaildation close */
		function modal_visitPurps() {
			event.preventDefault();
			$('.popup-wrap.modal_visitPurps').hide();
		}
		/* 신청서 등록 취소 */
		function modal_apply_close() {
			event.preventDefault();
			$('#modal_apply').hide();
		}
		/* 출발지 vaildation */
		function modal_strtpnt() {
			event.preventDefault();
			$('#modal_strtpnt').hide();
		}
		/* 도착지 vaildation */
		function modal_dstn(){
			event.preventDefault();
			$('#modal_dstn').hide();
		}	
		/* input입력시 data 포멧 */	
		function carNoOnchange(){
			$("#carCl").val("ETC_VHCLE");
			$("#carTy").val("기타");
			$("#mxmmLdadngQy").val("0");
		}
	</script>
</head>

<body>
	<div class="step1 user1 bg-gray" id="wrap">
		<!-- header -->
		<header class="user1">
			<div class="title-box">
				<button class="btn-back" onclick="pageBack();">
					<img src="../assets/images/btn-back.png" alt="back">
				</button>
				<h1>신청서 작성</h1>
			</div>
		</header>
		<!-- //header -->
		<div class="container">
			<form id="stepSubmit" method="POST">
				<div class="step-box">
					<ul class="clearfix">
						<li onclick="step1Function();" class="on" id="step1"><a>STEP1</a></li>
						<li onclick="step2Function();" id="step2"><a>STEP2</a></li>
						<li onclick="step3Function();" id="step3"><a>STEP3</a></li>
						<li onclick="step4Function();" id="step4"><a>STEP4</a></li>
					</ul>
				</div>
				<!-- step1 head-->
				<div class="step-message" id="step1_head">
					<p>현재 탑승하신 <em>차량번호</em>를<br>
						입력해주세요.
					</p>
				</div>
				<!-- step2 head-->
				<div class="step-message" style="display: none;" id="step2_head">
					<p><em>출발지</em>를
						입력해주세요.
					</p>
				</div>
				<!-- step3 head-->
				<div class="step-message" style="display: none;" id="step3_head">
					<p><em>목적지</em>를
						입력해주세요.
					</p>
				</div>
				<!-- step4 head-->
				<div class="step-message" style="display: none;" id="step4_head">
					<p><em>방문목적</em>를
						입력해주세요.
					</p>
				</div>
				<!-- step1 body -->
				<div class="step-conbox" id="step1_body">
					<div class="input-box step-box">
						<input type="text" id="carNo" name="carNo" placeholder="차량번호" onchange="carNoOnchange();">
					</div>
					<ul class="car-num-box" id="carList">
						<!-- script 데이터 삽입 -->
					</ul>
					<!-- search word -->
					<br>
					<div class="search-word-wrap">
						<div class="tit-box">
							<p>최근 차량번호</p>
						</div>
						<ul class="txt-box" id="newCarList">
							<!-- script 데이터 삽입 -->
						</ul>
					</div>
					<div class="btn-wrap double">
						<button type="button" class="bg-gray lg btn btn-cancel btn-delete">취소</button>
						<button type="button" class="bg-green lg btn btn-next" onclick="step2Function();">다음</button>
					</div>
					<!-- step1 취소 선택시 modal 창 -->
					<div class="popup-wrap delete sm">
						<div class="popup-box sm">
							<div class="popup-header sm">
								<!-- <p>확인</p> -->
								<a href="#" class="btn-popup-close"><img src="../assets/images/btn-popup-close.png"alt="팝업닫기"></a>
							</div>
							<div class="popup-contents sm">
								<p class="txt">정말 취소하시겠습니까?</p>
							</div>
							<div class="popup-footer sm">
								<button type="button" class="btn bg-gray btn-cancel"onclick="modal_close();">취소</button>
								<button type="button" class="btn bg-green btn-delete"onclick="application_cancel();">확인</button>
							</div>
						</div>
					</div>
					<!-- 차량번호 입력하지 않고 다음버튼 클릭시 validation check -->
					<div class="popup-wrap modal sm">
						<div class="popup-box sm">
							<div class="popup-header sm">
								<!-- <p>확인</p> -->
								<a href="#" class="btn-popup-close"><img src="../assets/images/btn-popup-close.png"alt="팝업닫기"></a>
							</div>
							<div class="popup-contents sm">
								<p class="txt">차량 번호는 필수 입력값 입니다.</p>
							</div>
							<div class="popup-footer sm">
								<button type="button" class="btn bg-green" style="width:100%;"onclick="modal_cancel();">확인</button>
							</div>
						</div>
					</div>

				</div>
				<!-- step2 body -->
				<div class="step-conbox" id="step2_body" style="display: none;">
					<div class="input-box step-box">
						<input type="text" id="strtpnt" name="strtpnt" placeholder="출발지">
					</div>
					<div class="search-word-wrap">
						<div class="tit-box">
							<p>최근 출발지</p>
						</div>
						<ul class="txt-box" id="startList">
							<!-- script 데이터 삽입 -->
						</ul>
					</div>
					<div class="btn-wrap double">
						<button type="button" class="bg-gray lg btn btn-cancel" onclick="step1Function();">이전</button>
						<button type="button" class="bg-green lg btn btn-next" onclick="step3Function();">다음</button>
					</div>
				</div>
				<div class="popup-wrap sm" id="modal_strtpnt">
					<div class="popup-box sm">
						<div class="popup-header sm">
							<!-- <p>확인</p> -->
							<a href="#" class="btn-popup-close"><img src="../assets/images/btn-popup-close.png" alt="팝업닫기"></a>
						</div>
						<div class="popup-contents sm">
							<p class="txt">출발지는 필수 입력값 입니다.</p>
						</div>
						<div class="popup-footer sm">
							<button type="button" class="btn bg-green" style="width:100%;" onclick="modal_strtpnt();">확인</button>
						</div>
					</div>
				</div>
				<!-- step3 body -->
				<div class="step-conbox" id="step3_body" style="display: none;">
					<div class="input-box step-box">
						<input type="text" id="dstn" name="dstn" placeholder="목적지">
					</div>
					<!-- search word -->
					<div class="search-word-wrap">
						<div class="tit-box">
							<p>최근 목적지</p>
						</div>
						<ul class="txt-box" id="dstnList">
							<!-- script 데이터 삽입 -->
						</ul>
					</div>
					<div class="btn-wrap double">
						<button type="button" class="bg-gray lg btn btn-cancel" onclick="step2Function();">이전</button>
						<button type="button" class="bg-green lg btn btn-next" onclick="step4Function();">다음</button>
					</div>
				</div>
				<div class="popup-wrap sm" id="modal_dstn">
					<div class="popup-box sm">
						<div class="popup-header sm">
							<!-- <p>확인</p> -->
							<a href="#" class="btn-popup-close"><img src="../assets/images/btn-popup-close.png" alt="팝업닫기"></a>
						</div>
						<div class="popup-contents sm">
							<p class="txt">도착지는 필수 입력값 입니다.</p>
						</div>
						<div class="popup-footer sm">
							<button type="button" class="btn bg-green" style="width:100%;"onclick="modal_dstn();">확인</button>
						</div>
					</div>
				</div>
				<!-- step4 body -->
				<div class="step-conbox" style="display: none;" id="step4_body">
					<div class="input-box step-box">
						<input type="text" id="visitPurps" name="visitPurps" placeholder="방문목적">
					</div>
					<!-- search word -->
					<div class="search-word-wrap">
						<div class="tit-box">
							<p>최근 방문목적</p>
						</div>
						<ul class="txt-box" id="visitPurpsList">
							<!-- script 데이터 삽입 -->
						</ul>
					</div>
					<!-- //search word -->
					<div class="btn-wrap double">
						<input type="hidden" id="mberId" name="mberId"> <!-- 축산차량 아이디 -->
						<input type="hidden" id="status" name="status" value="REQST"> <!-- 단계 -> 신청 -->
						<input type="hidden" id="drverNm" name="drverNm" /> <!-- 축산차량 이름 -->
						<input type="hidden" id="carCl" name="carCl" /> <!-- 차량유형 -->
						<input type="hidden" id="carTy" name="carTy" /> <!-- 차종명 -->
						<input type="hidden" id="mxmmLdadngQy" name="mxmmLdadngQy" /> <!-- 최대적재량 -->
						<input type="hidden" id="area" name="area" /> <!-- 지역 -->
						<input type="hidden" id="fcltyNm" name="fcltyNm" /> <!-- 거점소독시설명 -->
						<input type="hidden" id="registerId" name="registerId" /> <!-- 등록자 id -->
						<input type="hidden" id="issuFcltyId" name="issuFcltyId" /> <!-- 신청할 소독시설 id -->
						<button type="button" class="bg-gray lg btn btn-cancel" onclick="step3Function();">이전</button>
						<button type="button" onclick="modal_apply_open();" class="bg-green lg btn btn-next">완료</button>
					</div>
				</div>
				<!-- 방문목적 modal -->
				<div class="popup-wrap modal_visitPurps sm">
					<div class="popup-box sm">
						<div class="popup-header sm">
							<!-- <p>확인</p> -->
							<a href="#" class="btn-popup-close"><img src="../assets/images/btn-popup-close.png" alt="팝업닫기"></a>
						</div>
						<div class="popup-contents sm">
							<p class="txt">방문목적은 필수 입력값 입니다.</p>
						</div>
						<div class="popup-footer sm">
							<button type="button" class="btn bg-green" style="width:100%;"onclick="modal_visitPurps();">확인</button>
						</div>
					</div>
				</div>
				<!-- 신청 확인 modal -->
				<div class="popup-wrap sm" id="modal_apply">
					<div class="popup-box sm">
						<div class="popup-header sm">
							<!-- <p>확인</p> -->
							<a href="#" class="btn-popup-close"><img src="../assets/images/btn-popup-close.png" alt="팝업닫기"></a>
						</div>
						<div class="popup-contents sm">
							<p class="txt">신청서를 등록하시겠습니까?</p>
						</div>
						<div class="popup-footer sm">
							<button type="button" class="btn bg-gray" onclick="modal_apply_close();">취소</button>
							<button type="submit" class="btn bg-green" >등록</button>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
</body>
</html>