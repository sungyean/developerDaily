<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>거점소독시설 관리자 사이트</title>
	<link rel="stylesheet" href="../assets/css/common.css">
	<link rel="stylesheet" href="../assets/css/fonts.css">
	<link rel="stylesheet" href="../assets/css/jquery-ui.css">
	<link rel="stylesheet" href="../assets/css/jquery-ui-1.11.0.css">
	<link rel="stylesheet" href="../assets/css/style.css">
	<script src="../assets/js/jquery-3.4.1.min.js"></script>
	<!-- jquery DataTable script 시작 -->
	<link rel="stylesheet" href="../assets/css/tableData.css">
	<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
	<!-- jquery DataTable script 끝 -->
</head>
<body>
	<div class="header">
		<!-- TOP SECTION -->
		<div class="top">
			<h1><a href="/"><img src="../assets/images/logo.png" alt="SDF 융합연구단 바이오시큐리티 통합정보"></a></h1>
			<div class="top-box">
				<form id="switchSysFrm" name="switchSysFrm">
					<select id="switchSysFrm_searchSysCode" name="searchSysCode" class="w200">                    
						<option value="SYS0001" selected="">공통시스템</option>                    
						<option value="SYS0002">출입차량</option>                    
						<option value="SYS0003">출입원</option>                    
						<option value="SYS0004">이상징후</option>                    
						<option value="SYS0005">거점소독시설 전자소독필증 통합관리 시스템</option>                    
						<option value="SYS0006">현장진단</option>                    
					</select>
					<input type="button" id="btnGoSys" name="btnGoSys" class="common_button" value="GO" onclick="fn_goSys();">
				</form>                
			</div>                  
			<form id="frmLogout" name="frmLogout" action="/cmmn/user/logout.do">   
			 <div class="btn_info">           
				<div class="member">
					<p>
						<span class="name">슈퍼관리자님 접속</span>
					</p>
				</div>  
				<a href="javascript:fn_logout();" class="logout">로그아웃</a>
			 </div>      
			 </form>     
		</div>
		<!-- //TOP SECTION -->
		<!-- GNB SECTION -->
		<div class="gnb">    
			<div class="gnbMenu">
				<ul>
					<li><a href="../disinfection/disinfectionList.html">전자소독필증 관리</a></li>
					<li class="on"><a href="disinfectionFacilitiesList.html">거점소독시설 관리</a></li>
					<li><a href="../facilities/facilitiesList.html">시설 관리</a></li>
					<li><a href="../users/usersList.html">사용자 관리</a></li>
					<li><a href="../cs/noticeList.html">고객센터 관리</a></li>
					<li><a href="../system/systemList.html">시스템 관리</a></li>
				</ul>
			</div>
		</div>
		<!-- //GNB SECTION -->    
		<!-- contents -->
		<div class="contents clearfix" id="contents">
			<div class="lnb-wrap">
				<h2 class="lnb-tit"><span>거점소독시설 관리</span></h2>
				<ul class="lnb-menu">
					<li class="on">
						<a href="disinfectionFacilitiesList.html">거점소독시설 현황</a>
						<ul>
							<li><a href="disinfectionFacilitiesAdd.html">거점소독시설 등록</a></li>
						</ul>
					</li>                    
				</ul>
			</div>
			<div class="contents-inn">
				<h3 class="page-tit"><span>거점소독시설 현황</span></h3>
				<div class="search-condition-box clearfix">
					<!-- <div class="search-condition-tit">검색조건</div> -->
					<table class="tb-modal-option">
						<tr>
							<th>기간 선택</th>
							<td class="condition-input-box">
								<div class="input-datepicker-box">
									<span class="icon-calender"><img src="../assets/images/ico-date.png" alt="날짜 선택" title="날짜 선택"></span>
									<input type="text" id="datepickerStart" class="input-datepicker">
								</div>
								<div class="ico-wave">
									~
								</div>
								<div class="input-datepicker-box">
									<span class="icon-calender"><img src="../assets/images/ico-date.png" alt="날짜 선택" title="날짜 선택"></span>
									<input type="text" id="datepickerEnd" class="input-datepicker">
								</div>
							</td>
							<th>지역 선택</th>
							<td class="condition-input-box">
								<select id="" name="" class="">                    
									<option value="" selected="">지역선택</option>                    
									<option value="">서울</option>                    
									<option value="">경기</option>                    
									<option value="">인천</option>                    
									<option value="">부산</option>                    
									<option value="">대구</option>   
									<option value="">광주</option>                    
									<option value="">대전</option>                    
									<option value="">울산</option>                    
									<option value="">세종</option>                    
									<option value="">강원</option>    
									<option value="">경남</option>                    
									<option value="">경북</option>                    
									<option value="">전남</option>                    
									<option value="">전북</option>                    
									<option value="">충남</option> 
									<option value="">충북</option> 
									<option value="">제주</option>                  
								</select>
							</td>                           
						</tr>
						<tr>                           
							<th>운영 상태</th>
							<td class="condition-input-box">
								<select id="" name="" class="">                    
									<option value="" selected="">운영상태</option>                    
									<option value="">정상</option>                    
									<option value="">대기</option>                    
									<option value="">비상</option>                    
									<option value="">폐쇄</option>                 
								</select>
							</td>
							<th>검색어 입력</th>
							<td class="condition-input-box">
								<div class="search-box">
									<input type="search" class="condition search">
								</div>
							</td> 
						</tr>
					</table>  
					<div class="btn-search-condition-box">
						<!-- <button class="btn-reset">초기회</button> -->
						<button class="btn-search"><span class="icon-search"><img src="../assets/images/ico-search.png" alt="검색"></span>검색</button>
					</div>                 
				</div>               
				<div class="tb-wrap">
					<h4 class="tb-tit"><span class="icon-bullet"><img src="../assets/images/bullet1.png" alt="테이블 제목"></span>거점소독시설 목록</h4>
					<div class="btn-add-wrap">
						<button class="btn-add" onclick="location.href='disinfectionFacilitiesAdd.html'"><span class="icon-add"><img src="../assets/images/icon-add.png" alt="등록하기"></span>거점소독시설 등록하기</button>
					</div>
					<table class="tb-list">
						<thead>
							<tr>
								<th>No</th>
								<th>지역</th>
								<th>거점소독시설명</th>
								<th>운영상태</th>
								<th>인력(명)</th>
								<th>시설 등록일</th>
								<th>전자소독필증 발급이력</th>
							</tr>
						</thead>
						<tbody>
							<tr onclick="location.href='disinfectionFacilitiesView.html'">
								<td>3</td>
								<td>경기</td>
								<td>양양 거점소독시설</td>
								<td>정상</td>
								<td>3명</td>
								<td>2020-07-07 PM 12:07:46</td>
								<td>400건</td>
							</tr>
							<tr onclick="location.href='disinfectionFacilitiesView.html'">
								<td>2</td>
								<td>경기</td>
								<td>양양 거점소독시설</td>
								<td>정상</td>
								<td>3명</td>
								<td>2020-07-07 PM 12:07:46</td>
								<td>400건</td>
							</tr>
							<tr onclick="location.href='disinfectionFacilitiesView.html'">
								<td>1</td>
								<td>경기</td>
								<td>양양 거점소독시설</td>
								<td>정상</td>
								<td>3명</td>
								<td>2020-07-07 PM 12:07:46</td>
								<td>400건</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="table-footer">
					<div class="table-util-box clearfix">
						<div class="total-row-num">
							33개 / 총 499개
						</div>
						<div class="btn-excel-dl">
							<button>엑셀 다운로드</button>
						</div>
					</div>                    
					<div class="paging">
						<ul>
							<li class="first""><a href="#">맨앞</a></li>
							<li class="prev"><a href="#">이전</a></li>
							<li class="current"><a href="#">1</a></li>
							<li><a href="#">2</a></li>
							<li><a href="#">3</a></li>
							<li><a href="#">4</a></li>
							<li><a href="#">5</a></li>
							<li><a href="#">6</a></li>
							<li><a href="#">7</a></li>
							<li><a href="#">8</a></li>
							<li><a href="#">9</a></li>
							<li><a href="#">10</a></li>
							<li class="next"><a href="#">다음</a></li>
							<li class="last"><a href="#">맨끝</a></li>
						</ul>
					</div>
				</div>                
			</div>
			
		</div>    
		<!-- dataTable Sample -->
		<div class="contents clearfix" id="contents">
			<div class="contents-inn">
				<div class="tb-wrap">
					<h4 class="tb-tit"><span class="icon-bullet"><img src="../assets/images/bullet1.png" alt="테이블 제목"></span>거점소독시설 목록</h4>
					<table class="tb-list" id="tableList">
						<thead>
							<tr>
								<th>seq</th>
								<th>설명</th>
								<th>데이터이름</th>
								<th>family</th>
							</tr>
						</thead>
					</table>
				</div>   
			</div>
		</div>
		<<!-- //dataTable Sample  -->
	</div>
</body>
</html>
														 
<script type="text/javascript">

	let draw = "";
	let totalPage = ""
	console.log("totalPage",totalPage)
	$(document).ready(function() {
	$('#tableList').DataTable({
		//옵션
		"searching": false,
		"pagingType" : "full_numbers",
		"info" : true,
		"paging": true,
		"serverSide":true,
		"ordering" : true,
		"order": [[ 0, "desc" ] ],
		//언어설정
		"language": 
		{   //"현재_START_ - _END_ / _TOTAL_개",
			"info": " _TOTAL_개/총개",
			"sLengthMenu": "",
			"paginate": {
				"first": "맨앞",
				"next": "다음",
				"previous": "이전",
				"last": "맨끝"
			}
		},
		"ajax": {
			"type" : "GET",
			"url" : "http://172.30.1.250:8081/api1.0/analysisReq/advSearch",
			"data" : function(data){
				//파라미터값 생성
				data.tblAlias = "analysisReqs";
				data.schColumns = "status";
				data.schKeywords = "4";
				data.columnTypes="NUMBER";
				data.columnFormats="null";
				data.comparisonOperators="NEQ";
				data.conditions="AND";
				data.page = parseInt(data.start/10);
				if(data.draw==1){
					data.sort = "seq,desc"
				}else if(document.getElementsByClassName('sorting_asc').length >0){
					data.sort = "seq,desc"
				}else{
					data.sort = "seq,asc"
				}
				draw = data.draw
			},
			
			//data 명 바꾸기.
			'dataFilter': function(retData) {        
				retData = JSON.parse(retData);  
				if(draw ==1){
					retData["recordsTotal"] = retData.page.totalElements;
					totalPage = retData.page.totalElements;
				}
				retData["recordsTotal"] = totalPage;
				retData["recordsFiltered"] =  retData.page.totalElements;
				retData["data"] =retData._embedded.analysisReqs;
				//console.log("retData",retData.page.totalElements);
				return JSON.stringify(retData);
			},
			complete:function(data){
				document.getElementById('tableList_info').innerHTML=data.responseJSON.recordsFiltered+"개/총"+data.responseJSON.recordsTotal+"개"
			}
		},
		"columns": [
			{targets: 0, data: "seq" },
			{targets: 1, data: "dataName" },
			{targets: 2, data: "description" },
			{targets: 3, data: "family" }
		],
		"dom":"lfrtBip",
		"buttons": [{
			extend: 'csvHtml5',
			text: '엑셀 다운로드',
			footer: true,
			className: 'exportBtn'
		}],
		});                
	});
	

</script>